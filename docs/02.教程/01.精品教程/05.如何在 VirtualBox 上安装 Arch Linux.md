---
title: 如何在 VirtualBox 上安装 Arch Linux
date: 2023-11-25 14:19:06
permalink: /pages/885974/
categories:
  - 教程
  - 精品教程
tags:
  - 
---
#### 如何在virtualBox上安装arch虚拟机

<i>[Arch]()</i>：
---
Arch Linux 是一个独立开发的x86-64架构通用GNU/Linux发行版，它致力于通过滚动更新来提供大多数软件的最新稳定版本。默认安装是一个最小的基本系统，由用户自行添加需要的软件。Arch Linux使用pacman作为包管理器。

[virtualBox]()：
---
---


#### 安装Arch

##### 进入安装界面
引导在 Virtual Box 上安装 Arch Linux
您将看到 Arch Linux 的第一个打开页面。单击“Boot Arch Linux (x86_64)”（适用于 64 位）或单击“Boot Arch Linux (i686)”（适用于 32 位）。
选择启动Arch Linux
一旦您单击第一个选项，系统就会开始启动。当它完成临时启动时，我们基本上进入实时版本并以根用户身份登录。

启动进入 Arch Linux live 版本

输入以下命令检查 Internet 连接。

```
 ping google.com 
```
ping 这个词代表数据包互联网地鼠。您很快就会看到表示 Arch Linux 已激活互联网连接的响应。这对于执行某些安装步骤至关重要。

使用 ping 测试互联网连接

通过键入清除命令
```
clear ## 或者使用电脑快捷键ctrl + l
```

在开始安装之前，您应该对驱动器进行分区。输入#fdisk –l ，你会看到当前系统的磁盘分区。重点关注您一开始分配给 Arch 的 20 GB 硬盘。
```
fsdisk -l
```
对硬盘进行分区

#### 对硬盘进行分区
我们将把这 20 GB 空间划分为三个分区。第一个是主根分区，大小为 10 GB。第二个是交换分区，它是初始 RAM 分配的两倍，即 2048 MB。第三个是分配 8 GB 的逻辑分区。
<p>可以分成三个区（根分区+home分区+ 交换分区），也可以分配成两个(根分区+交换分区)，还有更多分区方式，请阅读，</p>
<b>创建3个磁盘分区</b>

输入命令：
```
cfdisk
```
 您将看到 gpt、dos、sgi 和 sun。选择 dos选项并按Enter。

创建<b>DOS</b>类型的分区

在这里您将看到主磁盘空间，为 20 GB。要更改此设置，请在可用空间上按 <enter> 并输入10G。

选择10GB分区大小

按Enter键，然后单击“primary”分区。

现在，通过在可引导上按 Enter 键来选择“可引导”类型。

使分区可启动。

进入write并按 Enter 键，将分区写入磁盘。

将分区写入磁盘

然后输入yes即可成功进行更改。

确认更改

现在 10 GB 分区已创建。点击可用空间，然后输入分区大小2048M。

创建2GB交换分区

现在按照相同的步骤创建逻辑分区。然后按 Enter 键退出并通过键入清除命令
```
clear
```
退出cfdisk

通过键入以下内容格式化新分区的磁盘：
```
mkfs.ext4 /dev/sda1
```
这里 sda1是分区名称。通过键入以下内容对第二个驱动器重复此操作：
```
mkfs.ext4 /dev/sda3
```
对于交换分区，
```
mkswap /dev/sda2
```
使用 mkswap 格式化交换分区

输入以下命令激活交换：
```
swapon /dev/sda2
```
并通过键入以下内容清除命令：

```
clear
```
通过键入以下命令挂载主分区以开始安装部分：
```
mount /dev/sda1 /mnt 
mkdir /mnt/home
mount /dev/sda3 /mnt/home

# 挂载分区

Bootstrap Arch Linux
```
通过键入以下内容引导系统：
```
pacstrap /mnt base base-level linux linux-firmware vim dpchcd
```
可以看到正在同步数据包。

![]()
安装将开始，需要几分钟时间。
![]()
Arch Linux安装已经开始

基本安装后，通过键入以下命令创建 fstab 文件：
```
genfstab /mnt>> /mnt/etc/fstab
```
![生成/etc/fstab]()

配置区域设置、时间和 root 密码。

通过键入以下命令将系统根目录更改为 Arch Linux 安装目录：

arch-chroot /mnt /bin/bash
 

现在配置语言设置：
```
vim /etc/locale.gen
```
![在 Arch Linux 中设置语言]()

通过删除 # 并按 ctrl + x、按y并按Enter选择以下语言配置 (en_US.UTF-8 UTF-8) 。

![选择语言]()

现在输入以下命令激活它：
```
locale-gen
```
并按Enter。

![在 Arch Linux 中生成语言环境]()

通过键入以下内容创建 /etc/locale.conf 文件：
```
vim /etc/locale.conf
```
然后按Enter。现在，您可以通过将此行添加到文件中来将您的语言添加到系统中：
```
LANG=en_US.UTF-8
```
然后按 ctrl + x并按y，然后按Enter。

![设置默认语言]()

通过键入以下内容同步区域信息：
```
ls /usr/share/zoneinfo
```
您将找到世界上所有区域的列表。

![设置系统默认语言]()

要选择您的区域，请输入：
```
ln –s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
```
或者您可以从下面的列表中选择任何名称。



使用命令设置时间标准。
```
hwclock --systohc --utc
```
并且硬件时钟是同步的。

![设置时间]()

通过键入以下内容设置 root 用户密码：
```
passwd
```
然后按Enter。然后输入您的密码并按 Enter 键。

![设置root密码]()

##### 设置主机名和网络
通过键入以下内容输入网络的主机名：
```
vim /etc/hostname
```

并按Enter。现在输入任意名称，然后按control + x和y，然后按Enter。

![设置主机名]()

通过键入以下内容启用 dhcpcd：
```
systemctl enable dhcpcd
```
并且会在下次启动时自动获取IP地址。

![启用 dhcpd]()

##### 安装引导加载程序
最后一步，启动 grub 安装。类型：
```
pacman –S grub os-prober
```
然后按y键，下载部分将开始。

![配置grub]()

通过键入以下命令将 grub 引导加载程序安装到硬盘：
```
grub-install  /dev/sda
```
并配置它：
```
grub-mkconfig –o /boot/grub/grub.cfg
```
![安装并配置 grub 引导加载程序]()

最后，退出 chroot，然后输入以下命令重新启动系统：
```
exit
reboot
```
并按回车键。

重新启动系统

##### 引导至已安装的 ArchLinux 操作系统
选择“Boot Existing OS”在 Virtual Box 上启动 Arch Linux。

![引导架构 Linux]()

使用您的 root 用户名和密码登录，您将进入新的 Arch Linux 操作系统。

ArchLinux安装成功

后续需要自己安装桌面环境和其他软件，具体请参考这篇文章[Arch Linux 安装并配置桌面环境](https://zhuanlan.zhihu.com/p/405352705)